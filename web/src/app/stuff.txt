<div
        className={`w-full max-w-3xl mx-auto flex-1 overflow-y-auto pb-24 transition-opacity duration-500 ${
          hasSubmitted ? "opacity-100" : "opacity-0 pointer-events-none"
        }`}
      >
        {hasSubmitted && (
          <div className="space-y-10 py-8">
            {/* --- User's Prompt --- */}
            <div className="flex gap-4">
              <UserIcon />
              <p className="font-medium pt-1 whitespace-pre-wrap">
                {submittedPrompt}
              </p>
            </div>

            {/* --- AI's Response --- */}
            <div className="flex gap-4">
              <div className="w-full">
                {isLoading && (
                  <div className="flex items-center space-x-2 text-gray-400">
                    <div className="w-2 h-2 bg-blue-400 rounded-full animate-pulse [animation-delay:-0.3s]"></div>
                    <div className="w-2 h-2 bg-blue-400 rounded-full animate-pulse [animation-delay:-0.15s]"></div>
                    <div className="w-2 h-2 bg-blue-400 rounded-full animate-pulse"></div>
                    <span>Analyzing...</span>
                  </div>
                )}
                {error && <div className="text-red-400">{error}</div>}
                {results && (
                  <div className="space-y-8">
                    {/* Uniqueness Score */}
                    <div>
                      <h2 className="text-2xl font-semibold mb-3">
                        Uniqueness Score
                      </h2>
                      <p className="text-6xl font-bold text-center text-green-400 bg-gray-800/50 py-6 rounded-lg">
                        {(results.unique_score * 100).toFixed(1)}%
                      </p>
                    </div>

                    {/* AI Review Summary */}
                    <div>
                      <h2 className="text-2xl font-semibold mb-3">
                        ðŸ¤– AI Review Summary
                      </h2>
                      <div className="p-6 rounded-lg bg-gray-800/50 grid md:grid-cols-2 gap-x-8 gap-y-6">
                        <div>
                          <h3 className="text-lg font-bold text-red-400 mb-2">
                            Common Challenges & Criticisms
                          </h3>
                          <ul className="list-disc pl-5 text-gray-300 space-y-1">
                            {formatSummary(results.review_summary.challenges)}
                          </ul>
                        </div>
                        <div>
                          <h3 className="text-lg font-bold text-green-400 mb-2">
                            Common Likes & Praises
                          </h3>
                          <ul className="list-disc pl-5 text-gray-300 space-y-1">
                            {formatSummary(results.review_summary.likes)}
                          </ul>
                        </div>
                      </div>
                    </div>

                    {/* Similar Games */}
                    <div>
                      <h2 className="text-2xl font-semibold mb-3">
                        Most Similar Games
                      </h2>
                      <ul className="space-y-2">
                        {results.similar_games.map((game, index) => (
                          <li
                            key={index}
                            className="flex items-center justify-between p-2 bg-gray-800/50 rounded-lg hover:bg-gray-700/50 transition-colors"
                          >
                            <a
                              href={game.store_page_url}
                              target="_blank"
                              rel="noopener noreferrer"
                              className="flex items-center space-x-4"
                            >
                              <Image
                                src={game.header_image_url}
                                alt={game.name}
                                width={460}
                                height={215}
                              />

                              <span className="font-medium">{game.name}</span>
                            </a>
                            <span className="font-mono text-sm text-green-400">
                              {(game.score * 100).toFixed(1)}% match
                            </span>
                          </li>
                        ))}
                      </ul>
                    </div>

                    {/* Predicted Tags */}
                    <div>
                      <h2 className="text-2xl font-semibold mb-3">
                        Predicted Tags
                      </h2>
                      <div className="flex flex-wrap gap-2">
                        {results.predicted_tags.map((tag, index) => (
                          <span
                            key={index}
                            className="bg-blue-500/80 text-white px-3 py-1 rounded-full text-sm font-medium"
                          >
                            {tag.name}
                          </span>
                        ))}
                      </div>
                    </div>

                    <div>
                      <h2 className="text-2xl font-semibold mb-3">
                        Raw Reviews
                      </h2>
                      <ReviewMenu
                        games={results.similar_games}
                        reviews={results.reviews}
                      />
                    </div>
                  </div>
                )}
              </div>
            </div>
          </div>
        )}
      </div>